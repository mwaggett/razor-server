[Unit]
Description=Puppet Enterprise Razor Server
After=network.target pe-postgresql.service

[Service]
EnvironmentFile=/opt/puppet/share/razor-server/pe-razor-server.env
EnvironmentFile=/etc/sysconfig/pe-razor-server
User=pe-razor
ExecStart=/opt/puppet/share/torquebox/jboss/bin/standalone.sh -Djboss.server.log.dir=$JBOSS_LOG_DIR -Dhttp.port=$HTTP_PORT -Dhttps.port=$HTTPS_PORT -b 0.0.0.0
Type=simple
PIDFile=/var/run/pe-razor-server/torquebox.pid

[Install]
WantedBy=multi-user.target